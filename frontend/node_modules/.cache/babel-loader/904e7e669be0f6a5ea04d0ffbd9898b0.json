{"ast":null,"code":"import _slicedToArray from\"/Users/savanna/Desktop/stage4/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,isValidElement}from\"react\";import{useParams}from'react-router-dom';import Axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function User(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),movieId=_useState2[0],setMovieId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),language=_useState4[0],setLanguage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),plotIntro=_useState6[0],setPlotIntro=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),runtime=_useState8[0],setRuntime=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),newName=_useState10[0],setNewName=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),movieList=_useState12[0],setMovieList=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),newDirector=_useState14[0],setNewDirector=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),newActor=_useState16[0],setNewActor=_useState16[1];var _useParams=useParams(),UserId=_useParams.UserId;// useEffect(() => {\n//   Axios.get('http://localhost:3002/api/getUser').then((response) => {\n//     setMovieList(response.data)\n//   })\n// },[])\nvar submitMovie=function submitMovie(){Axios.post('http://localhost:3002/api/insertUser',{UserId:UserId,Fav_Movie:language,Fav_Director:plotIntro,Fav_Actor:runtime}).then(function(){alert('success submit!');});// setMovieList([\n//   ...movieList,\n//   {\n//     UserId: UserId,\n//     Fav_Movie: language,\n//     Fav_Director: plotIntro,\n//     Fav_Actor: runtime,\n//   },\n// ]);\n};var showFav=function showFav(){Axios.post(\"http://localhost:3002/api/postSearchFav\",{UserId:UserId}).then(function(response){// console.log(response);\nsetMovieList(response.data);});};var deleteMovie=function deleteMovie(UserId){Axios.delete(\"http://localhost:3002/api/deleteUser/\".concat(UserId));};var updateMovie=function updateMovie(MovieId){Axios.put(\"http://localhost:3002/api/updateUser\",{UserId:MovieId,Fav_Movie:newName});};var updateDirector=function updateDirector(MovieId){Axios.put(\"http://localhost:3002/api/updateDirector\",{UserId:MovieId,Fav_Director:newDirector});};var updateActor=function updateActor(MovieId){Axios.put(\"http://localhost:3002/api/updateActor\",{UserId:MovieId,Fav_Actor:newActor});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container2\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome \",UserId,\"!\"]}),/*#__PURE__*/_jsx(\"h2\",{children:\" My Favorite\"}),/*#__PURE__*/_jsx(\"label\",{children:\" Favorite Movie:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fav_movie\",onChange:function onChange(e){setLanguage(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Favorite Director:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fav_director\",onChange:function onChange(e){setPlotIntro(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Favorite Actor:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"runtime\",onChange:function onChange(e){setRuntime(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"registerbtn\",onClick:submitMovie,children:\" Submit\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Favorite List\"}),/*#__PURE__*/_jsx(\"button\",{className:\"registerbtn\",onClick:showFav,children:\" Show Favorite\"}),movieList.map(function(val){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Movie Name: \",val.Fav_Movie]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"updateName\",onChange:function onChange(e){setNewName(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"registerbtn\",onClick:function onClick(){updateMovie(val.UserId);},children:\" Update\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Director: \",val.Fav_Director]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"updateDirector\",onChange:function onChange(e){setNewDirector(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"registerbtn\",onClick:function onClick(){updateDirector(val.UserId);},children:\" Update\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Actor: \",val.Fav_Actor]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"updateActor\",onChange:function onChange(e){setNewActor(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"registerbtn\",onClick:function onClick(){updateActor(val.UserId);},children:\" Update\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"registerbtn\",onClick:function onClick(){deleteMovie(val.UserId);},children:\" Delete\"})]});;})]});}export default User;","map":{"version":3,"sources":["/Users/savanna/Desktop/stage4/frontend/src/Pages/User.js"],"names":["React","useState","useEffect","isValidElement","useParams","Axios","User","movieId","setMovieId","language","setLanguage","plotIntro","setPlotIntro","runtime","setRuntime","newName","setNewName","movieList","setMovieList","newDirector","setNewDirector","newActor","setNewActor","UserId","submitMovie","post","Fav_Movie","Fav_Director","Fav_Actor","then","alert","showFav","response","data","deleteMovie","delete","updateMovie","MovieId","put","updateDirector","updateActor","e","target","value","map","val"],"mappings":"yHAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,cAApC,KAAyD,OAAzD,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,IAAT,EAAgB,eACgBL,QAAQ,CAAC,EAAD,CADxB,wCACPM,OADO,eACEC,UADF,8BAEkBP,QAAQ,CAAC,EAAD,CAF1B,yCAEPQ,QAFO,eAEGC,WAFH,8BAGoBT,QAAQ,CAAC,EAAD,CAH5B,yCAGPU,SAHO,eAGIC,YAHJ,8BAIgBX,QAAQ,CAAC,EAAD,CAJxB,yCAIPY,OAJO,eAIEC,UAJF,8BAKgBb,QAAQ,CAAC,EAAD,CALxB,0CAKPc,OALO,gBAKEC,UALF,gCAMoBf,QAAQ,CAAC,EAAD,CAN5B,2CAMPgB,SANO,gBAMIC,YANJ,gCAOwBjB,QAAQ,CAAC,EAAD,CAPhC,2CAOPkB,WAPO,gBAOMC,cAPN,gCAQkBnB,QAAQ,CAAC,EAAD,CAR1B,2CAQPoB,QARO,gBAQGC,WARH,+BAUClB,SAAS,EAVV,CAUTmB,MAVS,YAUTA,MAVS,CAYd;AACA;AACA;AACA;AACA;AACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBnB,KAAK,CAACoB,IAAN,CAAW,sCAAX,CAAmD,CACjDF,MAAM,CAAEA,MADyC,CAEjDG,SAAS,CAAEjB,QAFsC,CAGjDkB,YAAY,CAAEhB,SAHmC,CAIjDiB,SAAS,CAAEf,OAJsC,CAAnD,EAKGgB,IALH,CAKQ,UAAK,CACPC,KAAK,CAAC,iBAAD,CAAL,CACL,CAPD,EASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAnBD,CAqBA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB1B,KAAK,CAACoB,IAAN,2CAAsD,CAClDF,MAAM,CAAEA,MAD0C,CAAtD,EAGKM,IAHL,CAGU,SAACG,QAAD,CAAc,CACpB;AACAd,YAAY,CAACc,QAAQ,CAACC,IAAV,CAAZ,CACD,CANH,EAOD,CARD,CAUA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACX,MAAD,CAAY,CAC9BlB,KAAK,CAAC8B,MAAN,gDAAqDZ,MAArD,GACD,CAFD,CAIA,GAAMa,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,OAAD,CAAa,CAC/BhC,KAAK,CAACiC,GAAN,wCAAkD,CAChDf,MAAM,CAAEc,OADwC,CAEhDX,SAAS,CAAEX,OAFqC,CAAlD,EAID,CALD,CAMA,GAAMwB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACF,OAAD,CAAa,CAClChC,KAAK,CAACiC,GAAN,4CAAsD,CACpDf,MAAM,CAAEc,OAD4C,CAEpDV,YAAY,CAAER,WAFsC,CAAtD,EAID,CALD,CAMA,GAAMqB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACH,OAAD,CAAa,CAC/BhC,KAAK,CAACiC,GAAN,yCAAmD,CACjDf,MAAM,CAAEc,OADyC,CAEjDT,SAAS,CAAEP,QAFsC,CAAnD,EAID,CALD,CAOA,mBACA,aAAK,SAAS,CAAC,YAAf,wBACE,iCAAaE,MAAb,OADF,cAEE,oCAFF,cAKI,2CALJ,cAMI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,QAAQ,CAAI,kBAACkB,CAAD,CAAO,CAAC/B,WAAW,CAAC+B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAApF,EANJ,cAOI,8CAPJ,cAQI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,cAAxB,CAAuC,QAAQ,CAAI,kBAACF,CAAD,CAAO,CAAC7B,YAAY,CAAC6B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,CAA6B,CAAxF,EARJ,cASI,2CATJ,cAUI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,SAAxB,CAAkC,QAAQ,CAAI,kBAACF,CAAD,CAAO,CAAC3B,UAAU,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAA2B,CAAjF,EAVJ,cAWI,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAEnB,WAAzC,qBAXJ,cAaI,qCAbJ,cAcI,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAEO,OAAzC,4BAdJ,CAgBKd,SAAS,CAAC2B,GAAV,CAAc,SAACC,GAAD,CAAS,CACpB,mBACE,aAAK,SAAS,CAAG,MAAjB,wBAEE,oCAAgBA,GAAG,CAACnB,SAApB,GAFF,cAME,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,YAAxB,CAAqC,QAAQ,CAAE,kBAACe,CAAD,CAAO,CAACzB,UAAU,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAA2B,CAAlF,EANF,cAOE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,kBAAM,CAAEP,WAAW,CAACS,GAAG,CAACtB,MAAL,CAAX,CAAyB,CAA1E,qBAPF,cASE,kCAAcsB,GAAG,CAAClB,YAAlB,GATF,cAUE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,gBAAxB,CAAyC,QAAQ,CAAE,kBAACc,CAAD,CAAO,CAACrB,cAAc,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CAA+B,CAA1F,EAVF,cAWE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,kBAAM,CAAEJ,cAAc,CAACM,GAAG,CAACtB,MAAL,CAAd,CAA4B,CAA7E,qBAXF,cAaE,+BAAWsB,GAAG,CAACjB,SAAf,GAbF,cAcE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,aAAxB,CAAsC,QAAQ,CAAE,kBAACa,CAAD,CAAO,CAACnB,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAApF,EAdF,cAeE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,kBAAM,CAAEH,WAAW,CAACK,GAAG,CAACtB,MAAL,CAAX,CAAyB,CAA1E,qBAfF,cAgBE,aAhBF,cAiBE,aAjBF,cAkBE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,kBAAM,CAAEW,WAAW,CAACW,GAAG,CAACtB,MAAL,CAAX,CAAyB,CAA1E,qBAlBF,GADF,CAsBA,CACD,CAxBF,CAhBL,GADA,CA6CA,CACD,cAAejB,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect, isValidElement} from \"react\";\nimport { useParams } from 'react-router-dom';\nimport Axios from 'axios';\n\nfunction User() {\n  const [movieId, setMovieId] = useState('');\n  const [language, setLanguage] = useState('');\n  const [plotIntro, setPlotIntro] = useState('');\n  const [runtime, setRuntime] = useState('');\n  const [newName, setNewName] = useState('');\n  const [movieList, setMovieList] = useState([]);\n  const [newDirector, setNewDirector] = useState('');\n  const [newActor, setNewActor] = useState('');\n\n  let {UserId} = useParams();\n   \n  // useEffect(() => {\n  //   Axios.get('http://localhost:3002/api/getUser').then((response) => {\n  //     setMovieList(response.data)\n  //   })\n  // },[])\n  const submitMovie = () => {\n    Axios.post('http://localhost:3002/api/insertUser', {\n      UserId: UserId,\n      Fav_Movie: language,\n      Fav_Director: plotIntro,\n      Fav_Actor: runtime,\n    }).then(()=> {\n          alert('success submit!')\n    });\n\n    // setMovieList([\n    //   ...movieList,\n    //   {\n    //     UserId: UserId,\n    //     Fav_Movie: language,\n    //     Fav_Director: plotIntro,\n    //     Fav_Actor: runtime,\n    //   },\n    // ]);\n  };\n\n  const showFav = () => {\n    Axios.post(`http://localhost:3002/api/postSearchFav`, {\n        UserId: UserId,\n\n      }).then((response) => {\n        // console.log(response);\n        setMovieList(response.data);\n      });\n  };\n\n  const deleteMovie = (UserId) => {\n    Axios.delete(`http://localhost:3002/api/deleteUser/${UserId}`);\n  };\n\n  const updateMovie = (MovieId) => {\n    Axios.put(`http://localhost:3002/api/updateUser`, {\n      UserId: MovieId,\n      Fav_Movie: newName,\n    });\n  };\n  const updateDirector = (MovieId) => {\n    Axios.put(`http://localhost:3002/api/updateDirector`, {\n      UserId: MovieId,\n      Fav_Director: newDirector,\n    });\n  };\n  const updateActor = (MovieId) => {\n    Axios.put(`http://localhost:3002/api/updateActor`, {\n      UserId: MovieId,\n      Fav_Actor: newActor,\n    });\n  };\n\n  return (\n  <div className=\"container2\">\n    <h1>Welcome {UserId}!</h1>\n    <h2> My Favorite</h2>\n      {/* <label> User ID:</label>\n      <input type=\"text\" name=\"userId\" onChange = {(e) => {setMovieId(e.target.value)}}/> */}\n      <label> Favorite Movie:</label>\n      <input type=\"text\" name=\"fav_movie\" onChange = {(e) => {setLanguage(e.target.value)}}/>\n      <label> Favorite Director:</label>\n      <input type=\"text\" name=\"fav_director\" onChange = {(e) => {setPlotIntro(e.target.value)}}/>\n      <label> Favorite Actor:</label>\n      <input type=\"text\" name=\"runtime\" onChange = {(e) => {setRuntime(e.target.value)}}/>\n      <button className=\"registerbtn\" onClick={submitMovie}> Submit</button>\n\n      <h2>Favorite List</h2>\n      <button className=\"registerbtn\" onClick={showFav}> Show Favorite</button>\n\n      {movieList.map((val) => {\n          return (\n            <div className = \"card\">\n              {/* <h1> Movie ID: {val.} </h1> */}\n              <p>Movie Name: {val.Fav_Movie}</p>\n              {/* <p>Director: {val.Fav_Director}</p>\n              <p>Actor: {val.Fav_Actor}</p> */}\n              {/* <button onClick={() => { deleteMovie(val.UserId) }}> Delete</button> */}\n              <input type=\"text\" name=\"updateName\" onChange={(e) => {setNewName(e.target.value)} }/>\n              <button className=\"registerbtn\" onClick={() => { updateMovie(val.UserId) }}> Update</button>\n\n              <p>Director: {val.Fav_Director}</p>\n              <input type=\"text\" name=\"updateDirector\" onChange={(e) => {setNewDirector(e.target.value)} }/>\n              <button className=\"registerbtn\" onClick={() => { updateDirector(val.UserId) }}> Update</button>\n\n              <p>Actor: {val.Fav_Actor}</p>\n              <input type=\"text\" name=\"updateActor\" onChange={(e) => {setNewActor(e.target.value)} }/>\n              <button className=\"registerbtn\" onClick={() => { updateActor(val.UserId) }}> Update</button>\n              <br></br>\n              <br></br>\n              <button className=\"registerbtn\" onClick={() => { deleteMovie(val.UserId) }}> Delete</button>\n              </div>\n            );\n          ;\n        })}\n\n  </div>\n  );\n }\n export default User;\n"]},"metadata":{},"sourceType":"module"}